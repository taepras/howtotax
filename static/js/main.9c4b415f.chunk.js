(this.webpackJsonptaxvisualizer=this.webpackJsonptaxvisualizer||[]).push([[0],{64:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){"use strict";n.r(e);var a,c,i,r,o,l,s,m=n(0),x=n.n(m),u=n(25),d=n.n(u),j=(n(64),n(9)),f=n(3),b=n(2),g=n(26),h=n(4),p=n(1),O=h.a.div(a||(a=Object(f.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n"]))),y=h.a.div(c||(c=Object(f.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 20%;\n    background: linear-gradient(to bottom, #222, #2220);\n"]))),N=h.a.svg(i||(i=Object(f.a)(["\n    & > g text {\n        transform: scale(1, -1);\n    }\n"]))),v=function(t){var e=t.income,n=t.expense,a=t.allowance,c=t.taxBrackets,i=t.padding,r=void 0===i?{left:35,right:0,top:0,bottom:50}:i,o=t.isPullTax,l=void 0!==o&&o,s=t.transitionTime,x=void 0===s?500:s,u=t.enableTransition,d=void 0===u||u,j=Object(g.a)({onResize:function(t){var e=t.observe,n=t.unobserve;t.width,t.height,t.entry;n(),e()}}),f=j.observe,h=(j.unobserve,j.width),v=j.height,I=(j.entry,Object(m.useMemo)((function(){return d?x:0}),[d,x])),w=Object(m.useRef)(null),k=Object(m.useMemo)((function(){return n<e-a?+n:+Math.max(0,e-a)}),[e,n]),M=Object(m.useMemo)((function(){return a<e?+a:+e}),[e,a]),R=Object(m.useMemo)((function(){return Math.max(e-n-a,0)}),[e,n,a]),C=Object(m.useCallback)(b.e().domain([0,Math.max(3e5,1.4*e)]).range([0,v-r.bottom]),[v,e,r]),S=Object(m.useMemo)((function(){return h-(r.left+r.right)}),[h,r]),z=Object(m.useCallback)(b.e().domain([0,1]).range([0,S]),[e,h]),B=Object(m.useMemo)((function(){return b.b(C).tickFormat(b.d(".3s"))}),[C]),F=Object(m.useMemo)((function(){return b.c(C)}),[C]),A=Object(m.useMemo)((function(){return b.a(z).tickFormat(b.d(".0%"))}),[z]);return Object(m.useLayoutEffect)((function(){if(w.current){var t=b.f(w.current);t.select("g.container").attr("transform","translate(".concat(r.left,", ").concat(r.bottom,")")),t.select("rect.net-income").attr("width",S).transition().duration(I).style("fill","#08f").attr("height",Math.max(0,C(R))),console.log("netIncome + cleanedAllowance",R+M,M,C(M)),t.select("rect.expense").attr("width",S).transition().duration(I).style("fill","#135").attr("y",C(R+M)).attr("height",Math.max(0,C(k))),t.select("rect.allowance").attr("width",S).transition().duration(I).style("fill","#147").attr("y",C(R)).attr("height",Math.max(0,C(M))),t.select("text.net-income-text").text("\u0e40\u0e07\u0e34\u0e19\u0e44\u0e14\u0e49\u0e2a\u0e38\u0e17\u0e18\u0e34").attr("x",S/2).attr("y",-C(R/2)),t.select("text.net-expense-text").text("\u0e04\u0e48\u0e32\u0e25\u0e14\u0e2b\u0e22\u0e48\u0e2d\u0e19").attr("x",S/2).attr("y",-C(R+M/2)),t.select("text.net-allowance-text").text("\u0e04\u0e48\u0e32\u0e43\u0e0a\u0e49\u0e08\u0e48\u0e32\u0e22").attr("x",S/2).attr("y",-C(e-n/2));var a=t.select("g.tax-lines").selectAll("g").data(c),i=a.enter().append("g").classed("bracket",!0);i.append("text").classed("bracket-rate-text",!0),i.append("text").classed("bracket-min-text",!0),i.append("rect").classed("bracket-rect",!0),i.append("line").classed("bracket-line",!0),a.merge(i).select("rect").attr("x",0).attr("width",(function(t){return z(t.taxRate)})).style("fill-opacity",0).style("stroke","#f80").style("stroke-dasharray","3, 3").transition().duration(I).attr("y",(function(t){return C(t.minNetIncome)})).attr("height",(function(t){return C(t.maxNetIncome-t.minNetIncome)})),a.merge(i).select("line").attr("x1",0).attr("x2",S).style("stroke","#f80").style("stroke-dasharray","3, 3").transition().duration(I).attr("y1",(function(t){return C(t.maxNetIncome)})).attr("y2",(function(t){return C(t.maxNetIncome)})),a.merge(i).select("text.bracket-rate-text").style("fill","#fff").style("font-size","0.75rem").style("text-anchor","end").attr("x",S-5).transition().duration(I).text((function(t){return"\u0e40\u0e23\u0e34\u0e48\u0e21\u0e04\u0e34\u0e14\u0e17\u0e35\u0e48 ".concat(t.minNetIncome.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," \u0e1a\u0e32\u0e17")})).style("fill-opacity",(function(t,e){return 0!=e&&C(t.maxNetIncome-t.minNetIncome)>20?1:0})).attr("y",(function(t){return-C(t.minNetIncome)-5})),a.merge(i).select("text.bracket-min-text").style("fill","#fff").style("font-size","0.75rem").attr("x",(function(t){return z(t.taxRate)+5})).transition().duration(I).text((function(t){return"\u0e20\u0e32\u0e29\u0e35 ".concat(100*t.taxRate,"%")})).style("fill-opacity",(function(t,e){return 0!=e&&C(t.maxNetIncome-t.minNetIncome)>20?1:0})).attr("y",(function(t){return-C(t.minNetIncome)-5}));var o=t.select("g.tax-parts").selectAll("rect").data(c),s=o.enter().append("rect").style("fill","#f80").style("fill-opacity",1);o.merge(s).attr("x",0).attr("width",(function(t){return z(t.taxRate)})).transition().duration(I).attr("y",(function(t){return C(t.minNetIncome)})).attr("height",(function(t){return R>t.minNetIncome?R<t.maxNetIncome?C(R-t.minNetIncome):C(t.maxNetIncome-t.minNetIncome):0})),console.log(l),t.select("g.tax-parts").transition(I).attr("transform",l?"translate(".concat(-50,", 0)"):"translate(0, 0)").style("opacity",l?0:1);var m=t.select("g.tax-camouflage").selectAll("rect").data(c),x=m.enter().append("rect").style("fill","#222").style("stroke","#222").style("fill-opacity",1);m.merge(x).attr("x",0).attr("width",(function(t){return z(t.taxRate)})).transition().duration(I).attr("y",(function(t){return C(t.minNetIncome)})).attr("height",(function(t){return R>t.minNetIncome?R<t.maxNetIncome?C(R-t.minNetIncome):C(t.maxNetIncome-t.minNetIncome):0})),b.f("g.axis-income-bottom").attr("transform","translate(0, 0)").transition().duration(I).call(B),b.f("g.axis-tax-rate").transition().duration(I).call(A)}}),[h,v,w,l,S,C,R,e,n,a,c,r,B,F,A,M,k,z]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(O,{ref:f,children:[Object(p.jsx)(y,{}),Object(p.jsx)(N,{id:"chart",className:"d3-component",width:h,height:v,ref:w,children:Object(p.jsx)("g",{transform:"translate(0, ".concat(v,") scale(1, -1)"),children:Object(p.jsxs)("g",{className:"container",children:[Object(p.jsx)("rect",{className:"net-income"}),Object(p.jsx)("rect",{className:"expense"}),Object(p.jsx)("rect",{className:"allowance"}),Object(p.jsx)("text",{className:"net-income-text",style:{fill:"#fff",fontSize:"0.75rem",alignmentBaseline:"middle",textAnchor:"middle",fillOpacity:.4}}),Object(p.jsx)("text",{className:"net-expense-text",style:{fill:"#fff",fontSize:"0.75rem",alignmentBaseline:"middle",textAnchor:"middle",fillOpacity:.4}}),Object(p.jsx)("text",{className:"net-allowance-text",style:{fill:"#fff",fontSize:"0.75rem",alignmentBaseline:"middle",textAnchor:"middle",fillOpacity:.4}}),Object(p.jsx)("g",{className:"tax-lines"}),Object(p.jsx)("g",{className:"tax-camouflage"}),Object(p.jsx)("g",{className:"axis-income-top"}),Object(p.jsx)("g",{className:"axis-income-bottom"}),Object(p.jsx)("g",{className:"axis-tax-rate"}),Object(p.jsx)("g",{className:"tax-parts"})]})})})]})})},I=(n(69),h.a.div(r||(r=Object(f.a)(["\n  /* padding: 30px; */\n  width: 100%;\n  /* height: 50vh; */\n  flex: 1;\n  position: relative;\n"])))),w=h.a.div(o||(o=Object(f.a)(["\n  padding: 30px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n\n  @media (min-width: 768px) {\n    flex-direction: row;\n    padding: 50px;\n  }\n"]))),k=h.a.div(l||(l=Object(f.a)(["\n  /* margin-top: 30px; */\n  display: grid;\n  grid-template-columns: 30% auto;\n  column-gap: 10px;\n  row-gap: 15px;\n  flex-direction: column;\n  margin-bottom: 30px;\n  align-content: center;\n\n  @media (min-width: 768px) {\n    margin-left: 80px;\n    width: 400px;\n    max-width: 40%;\n  }\n"]))),M=h.a.div(s||(s=Object(f.a)(["\n  /* margin-bottom: 10px; */\n  display: flex;\n  flex-direction: column;\n"])));var R=function(){var t=Object(m.useState)(48e4),e=Object(j.a)(t,2),n=e[0],a=e[1],c=Object(m.useState)(1e5),i=Object(j.a)(c,2),r=i[0],o=i[1],l=Object(m.useState)(6e4),s=Object(j.a)(l,2),x=s[0],u=s[1],d=Object(m.useMemo)((function(){return n-r-x}),[n,r,x]),f=Object(m.useState)(!1),b=Object(j.a)(f,2),g=b[0],h=b[1],O=[{minNetIncome:0,maxNetIncome:15e4,taxRate:0},{minNetIncome:15e4,maxNetIncome:3e5,taxRate:.05},{minNetIncome:3e5,maxNetIncome:5e5,taxRate:.1},{minNetIncome:5e5,maxNetIncome:75e4,taxRate:.15},{minNetIncome:75e4,maxNetIncome:1e6,taxRate:.2},{minNetIncome:1e6,maxNetIncome:2e6,taxRate:.25},{minNetIncome:2e6,maxNetIncome:5e6,taxRate:.3},{minNetIncome:5e6,maxNetIncome:999999999999,taxRate:.35}],y=Object(m.useMemo)((function(){var t=0,e=d;for(var n in O){var a=O[n].maxNetIncome-O[n].minNetIncome;if(t+=Math.min(e,a)*O[n].taxRate,(e-=a)<=0)break}return t}),[d]);return Object(p.jsxs)(w,{children:[Object(p.jsx)(I,{children:Object(p.jsx)(v,{income:n,expense:r,allowance:x,taxBrackets:O,isPullTax:g})}),Object(p.jsxs)(k,{children:[Object(p.jsx)("label",{children:"\u0e23\u0e32\u0e22\u0e44\u0e14\u0e49"}),Object(p.jsxs)(M,{children:[Object(p.jsx)("input",{type:"number",step:1e4,min:0,value:n,onChange:function(t){return a(t.target.value)}}),Object(p.jsx)("input",{type:"range",min:"0",max:"10000000",value:n,onChange:function(t){return a(t.target.value)}})]}),Object(p.jsx)("label",{children:"\u0e04\u0e48\u0e32\u0e43\u0e0a\u0e49\u0e08\u0e48\u0e32\u0e22"}),Object(p.jsxs)(M,{children:[Object(p.jsx)("input",{type:"number",step:1e4,min:0,value:r,onChange:function(t){return o(t.target.value)}}),Object(p.jsx)("input",{type:"range",min:"0",max:"1000000",value:r,onChange:function(t){return o(t.target.value)}})]}),Object(p.jsx)("label",{children:"\u0e04\u0e48\u0e32\u0e25\u0e14\u0e2b\u0e22\u0e48\u0e2d\u0e19"}),Object(p.jsxs)(M,{children:[Object(p.jsx)("input",{type:"number",step:1e4,min:0,value:x,onChange:function(t){return u(t.target.value)}}),Object(p.jsx)("input",{type:"range",min:"0",max:"1000000",value:x,onChange:function(t){return u(t.target.value)}})]}),Object(p.jsx)("div",{children:"\u0e40\u0e07\u0e34\u0e19\u0e44\u0e14\u0e49\u0e2a\u0e38\u0e17\u0e18\u0e34"}),Object(p.jsx)("div",{children:d}),Object(p.jsx)("div",{children:"\u0e20\u0e32\u0e29\u0e35\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e40\u0e2a\u0e35\u0e22"}),Object(p.jsxs)("div",{children:[y,Object(p.jsx)("br",{}),Object(p.jsxs)("small",{children:["\u0e04\u0e34\u0e14\u0e40\u0e1b\u0e47\u0e19 ",Object(p.jsxs)("b",{children:[(y/n*100).toFixed(1),"%"]})," \u0e02\u0e2d\u0e07\u0e23\u0e32\u0e22\u0e44\u0e14\u0e49\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"]})]}),Object(p.jsx)("div",{style:{gridColumn:"1 / 3"},children:Object(p.jsx)("button",{onClick:function(){return h(!g)},style:{display:"block",width:"100%",gridColumn:"1 / 3"},children:"Tax"})})]})]})},C=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),i(t),r(t)}))};d.a.render(Object(p.jsx)(x.a.StrictMode,{children:Object(p.jsx)(R,{})}),document.getElementById("root")),C()}},[[70,1,2]]]);
//# sourceMappingURL=main.9c4b415f.chunk.js.map